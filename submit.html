<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Submit Event • NextUp</title>
<link rel="icon" href="favicon.ico">
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-50 text-gray-900">
<nav class="bg-white shadow-sm">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
    <a href="index.html" class="flex items-center gap-3"><svg class="h-6 w-6 text-purple-600" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 2l3 7 7 3-7 3-3 7-3-7-7-3 7-3 3-7z" stroke-width="1.5"/></svg><span class="font-bold">NextUp</span></a>
  </div>
</nav>
<main class="max-w-3xl mx-auto p-6">
  <h1 class="text-2xl font-bold">Submit an Event</h1>
  <p class="text-gray-600 mt-2">Events are reviewed before appearing publicly. Fill out the form below.</p>
  <form id="submitForm" class="mt-6 space-y-4 bg-white p-6 rounded shadow">
    <div>
      <label class="block text-sm font-medium">Event Title</label>
      <input name="title" required class="mt-1 block w-full rounded border p-2">
    </div>
    <div>
      <label class="block text-sm font-medium">Category</label>
      <select name="category" class="mt-1 block w-full p-2 rounded">
        <option>Music</option><option>Motorsports</option><option>Food & Drink</option><option>Arts</option><option>Outdoors</option><option>Festivals</option>
      </select>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium">Start (ISO date/time)</label>
        <input name="start" type="datetime-local" class="mt-1 block w-full rounded border p-2" required>
      </div>
      <div>
        <label class="block text-sm font-medium">End (ISO date/time)</label>
        <input name="end" type="datetime-local" class="mt-1 block w-full rounded border p-2">
      </div>
    </div>
    <div>
      <label class="block text-sm font-medium">Location (address)</label>
      <input name="location" class="mt-1 block w-full rounded border p-2" required>
    </div>
    <div>
      <label class="block text-sm font-medium">Ticket URL (optional)</label>
      <input name="ticketUrl" class="mt-1 block w-full rounded border p-2">
    </div>
    <div>
      <label class="block text-sm font-medium">Description</label>
      <textarea name="description" rows="6" class="mt-1 block w-full rounded border p-2" required></textarea>
    </div>
    <div class="flex justify-end gap-2">
      <a href="index.html" class="px-4 py-2 rounded border">Cancel</a>
      <button type="submit" class="px-4 py-2 rounded bg-purple-600 text-white">Submit for Review</button>
    </div>
  </form>
  <div id="result" class="mt-4"></div>
</main>
<footer class="bg-gray-800 text-gray-300 text-center py-6">&copy; 2025 NextUp</footer>
<script>
document.getElementById('submitForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const form = new FormData(e.target);
  const obj = Object.fromEntries(form.entries());
  // client-side preview: in production this should POST to an authenticated backend and a moderation queue
  const submissions = JSON.parse(localStorage.getItem('nextup_submissions')||'[]');
  obj.id = 'sub_' + Date.now();
  obj.image = 'placeholder.jpg';
  obj.organizer = 'Submitted via website';
  submissions.push(obj);
  localStorage.setItem('nextup_submissions', JSON.stringify(submissions));
  document.getElementById('result').innerHTML = '<div class="p-4 rounded bg-green-50 text-green-800">Thanks — your event was submitted for review. (Demo: submissions are stored locally in your browser.)</div>';
  e.target.reset();
});
</script>
<script type="module" src="/js/submit-firebase.js"></script>
</body>
</html>
